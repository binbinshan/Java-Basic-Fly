# 简述 socket 中 select 与 epoll 的使用场景以及区别，epoll 中水平触发以及边缘触发有什么不同？

## select/poll
在Linux中提供了select/poll,进程通过将一个或多个fd(文件资源描述符)传递给select或者poll系统调用，并阻塞在select操作上，这样select/poll可以帮我们侦测多个fd是否处于就绪状态，select/poll是顺序扫描，也就是遍历文件描述符来获取已经就绪的socket；

## epoll
Linux还提供了一个epoll系统调用，epoll使用基于事件驱动方式替代顺序扫描，因此性能更高，当有fd就绪时，立即回调函数rollback。

## 水平触发和边缘触发
在网络编程中，会涉及到水平触发与边缘触发的概念，工程中以边缘触发较为常见。
epoll对socket描述符的操作有两种模式： LT（level trigger）和ET（edge trigger） 

边缘触发(level-trggered)
1. 当文件描述符关联的读内核缓冲区由空转换为非空的时候，则发出可读的信号。
2. 当文件描述符关联的写内核缓冲区由满转换为不满的时候，则发出可写的信号。      

水平触发(edge-triggered)
1. 只要文件描述符关联的读内核缓冲区非空，有数据可以读取，就一直发出可读信号进行通知
2. 只要文件描述符关联的写内核缓冲区不满，有空间可以写入，就一直发出可写信号进行通知 

水平触发和边缘触发的的区别：
水平触发只要写内核缓冲区有空间可写就会一直发出可写信号，而边缘触发只是在写内核缓冲区由满转换为不满的时候，会发出一次可写信号。
水平触发只要读内核缓冲区有数据可读就会一直发出可读信号，而边缘触发只是在读内核缓冲区由空转换为非空的时候，会发出一次可读信号。
