# 常用垃圾收集器有哪些,你们线上用的什么收集器？

常见的垃圾收集器：
* 新生代：Serial 、 ParNew 、 Parallel Scavenge
* 老年代：Serial Old 、 ParNew Old 、CMS
* 通用：G1

线上使用的垃圾回收器可通过命令查看：
```
java -XX:+PrintCommandLineFlags -version
```

通过执行命令，得到了Java垃圾回收器为：-XX：UseParallelGC


-XX：UseParallelGC 是虚拟机在server模式下的默认值，使用的是 Parallel Scavenge 和 Serial Old 的收集器组合进行垃圾回收。


### CMS和G1的优点：
CMS是一种以获取最短回收停顿时间为目标的收集器，采用 标记-清除 算法，并发收集、低停顿。

G1是一种可以同时对新生代和老年代进行回收的收集器
1. G1 把堆划分成多个大小相等的独立区域，使得每个小空间可以单独进行垃圾回收。
2. 通过记录每个区域垃圾回收时间以及回收所获得的空间(这两个值是通过过去回收的经验获得)，并维护一个优先列表，每次根据允许的收集时间，优先回收价值最大的 区域。
3. G1 从整体来看是基于“标记整理”算法实现的收集器；从局部上(两个 Region 之间)来看是基于“复制”算法实现的。
4. G1 除了追求低停顿外，还能建立可预测的停顿时间