
### TCP 为什么握手是 3 次、挥手是 4 次？

1. TCP 是一个双工协议，为了让双方都保证，建立连接的时候，连接双方都需要向对方发送 SYC（同步请求）和 ACK（响应）。
2. 握手阶段双方都没有烦琐的工作，因此一方向另一方发起同步（SYN）之后，另一方可以将自己的 ACK 和 SYN 打包作为一条消息回复，接到回复后另一方再返回一个ACK，因此是 3 次握手——需要 3 次数据传输。
3. 到了挥手阶段，双方都可能有未完成的工作。客户端发送断开(FIN)请求给服务端，服务端必须马上响应（ACK），表示接收到了断开请求。然后等服务端所有工作结束，再发送请求中断连接（FIN）给客户端，然后客户端自己的所有的工作结束后，再发送一个ACK，因此是 4 次挥手。